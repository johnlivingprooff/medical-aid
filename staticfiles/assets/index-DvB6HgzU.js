const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dashboard-DA_zJSJN.js","assets/ui-vendor-BwlLg9O9.js","assets/react-vendor-BV8CqAlW.js","assets/card-B87lmAsb.js","assets/badge-BSpsjrqz.js","assets/utils-vendor-BEyFXcp4.js","assets/add-member-modal-CQ7ng8LC.js","assets/input-CqLO7V2k.js","assets/label-_J7CDay_.js","assets/currency-DQnJccph.js","assets/skeleton-CR7iafWw.js","assets/submit-claim-modal-DxL7_nOZ.js","assets/manage-schemes-modal-DMLno14B.js","assets/separator-BoX4pgoZ.js","assets/chart-vendor-BhwCssww.js","assets/claims-GcvCyUj1.js","assets/tabs-CT2nD0Ou.js","assets/table-xhyeBtUg.js","assets/schemes-D8OAjtyz.js","assets/scheme-details-C1jzDGMg.js","assets/providers-ByG3_atK.js","assets/members-CHdnXsNY.js","assets/analytics-fCDbSld2.js","assets/reports-CiF68y9s.js","assets/alerts-DvaAmMVe.js","assets/settings-nKcZjvKl.js","assets/admin-oLZVLtHc.js","assets/login-Dm4jN6qa.js"])))=>i.map(i=>d[i]);
import{j as e,S as fe,R as G,I as J,F as K,P as xe,C as Q,a as X,b as Y,c as ge,T as pe,d as be,e as Z,f as ve,g as je,h as ye}from"./ui-vendor-BwlLg9O9.js";import{a as we,r as a,N as Ne,u as ee,d as te,e as T,O as Se,f as _e,h as p,b as Ae,B as Ee}from"./react-vendor-BV8CqAlW.js";import{t as ke,c as Re,L as Te,F as De,B as Pe,U as Ce,a as Ie,C as Me,b as Le,d as se,S as $e,e as Oe,f as ze,g as B,X as Be,h as Ve,i as Ue,M as He,j as qe}from"./utils-vendor-BEyFXcp4.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(i){if(i.ep)return;i.ep=!0;const d=r(i);fetch(i.href,d)}})();var M={},V=we;M.createRoot=V.createRoot,M.hydrateRoot=V.hydrateRoot;const re=a.createContext(null);function Pt(){const t=a.useContext(re);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function We(){return Math.random().toString(36).slice(2)+Date.now().toString(36)}const k={success:{border:"border-green-500",bg:"bg-green-500/10",text:"text-green-900 dark:text-green-100",icon:e.jsx("svg",{className:"h-5 w-5 text-green-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.707a1 1 0 00-1.414-1.414L9 10.172 7.707 8.879A1 1 0 106.293 10.293l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})},error:{border:"border-red-500",bg:"bg-red-500/10",text:"text-red-900 dark:text-red-100",icon:e.jsx("svg",{className:"h-5 w-5 text-red-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9 6h2v5H9V6zm0 7h2v2H9v-2z",clipRule:"evenodd"})})},info:{border:"border-blue-500",bg:"bg-blue-500/10",text:"text-blue-900 dark:text-blue-100",icon:e.jsx("svg",{className:"h-5 w-5 text-blue-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{fillRule:"evenodd",d:"M18 10A8 8 0 11.001 10 8 8 0 0118 10zM9 7h2V5H9v2zm0 8h2V8H9v7z",clipRule:"evenodd"})})},warning:{border:"border-amber-500",bg:"bg-amber-500/10",text:"text-amber-900 dark:text-amber-100",icon:e.jsx("svg",{className:"h-5 w-5 text-amber-600",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{d:"M8.257 3.099c.765-1.36 2.721-1.36 3.486 0l6.518 11.6A2 2 0 0116.518 18H3.482a2 2 0 01-1.743-3.3l6.518-11.6zM11 14H9v2h2v-2zm0-7H9v5h2V7z"})})}};function Fe({children:t}){const[s,r]=a.useState([]),n=a.useRef({}),i=a.useCallback(o=>{r(g=>g.filter(m=>m.id!==o));const c=n.current[o];c&&(window.clearTimeout(c),delete n.current[o])},[]),d=a.useCallback(o=>{const c=We(),g={id:c,title:o.title??"",description:o.description??"",variant:o.variant??"info",duration:Math.max(1500,Math.min(o.duration??3500,1e4))};return r(m=>[g,...m].slice(0,6)),n.current[c]=window.setTimeout(()=>i(c),g.duration),c},[i]),u=a.useCallback(()=>r([]),[]),f=a.useMemo(()=>({show:d,success:(o,c)=>d({title:o,description:c==null?void 0:c.description,variant:"success",duration:c==null?void 0:c.duration}),error:(o,c)=>d({title:o,description:c==null?void 0:c.description,variant:"error",duration:c==null?void 0:c.duration}),info:(o,c)=>d({title:o,description:c==null?void 0:c.description,variant:"info",duration:c==null?void 0:c.duration}),warning:(o,c)=>d({title:o,description:c==null?void 0:c.description,variant:"warning",duration:c==null?void 0:c.duration}),dismiss:i,clear:u}),[d,i,u]);return a.useEffect(()=>()=>{Object.values(n.current).forEach(o=>window.clearTimeout(o))},[]),e.jsxs(re.Provider,{value:f,children:[t,e.jsx("div",{className:"pointer-events-none fixed z-50 flex w-full flex-col gap-2 p-4 md:inset-y-4 md:right-4 md:w-auto md:items-end","aria-live":"polite","aria-atomic":"true",children:s.map(o=>e.jsx("div",{className:`pointer-events-auto w-full max-w-sm overflow-hidden rounded-md border ${k[o.variant].border} bg-background shadow-lg ring-1 ring-black/5 md:w-[380px]`,role:"status",children:e.jsxs("div",{className:`flex items-start gap-3 p-3 ${k[o.variant].bg}`,children:[e.jsx("div",{className:"shrink-0 mt-0.5","aria-hidden":!0,children:k[o.variant].icon}),e.jsxs("div",{className:"flex-1",children:[o.title&&e.jsx("p",{className:`text-sm font-medium leading-5 ${k[o.variant].text}`,children:o.title}),o.description&&e.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:o.description})]}),e.jsx("button",{onClick:()=>f.dismiss(o.id),className:"rounded p-1 text-muted-foreground/70 transition hover:bg-foreground/5 hover:text-foreground","aria-label":"Close notification",children:e.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":!0,children:e.jsx("path",{fillRule:"evenodd",d:"M10 8.586l4.95-4.95 1.414 1.415L11.414 10l4.95 4.95-1.414 1.414L10 11.414l-4.95 4.95-1.414-1.415L8.586 10l-4.95-4.95L5.05 3.636 10 8.586z",clipRule:"evenodd"})})})]})},o.id))})]})}function y(...t){return ke(Re(t))}function Ct(t){const s=new Date(t),n=new Date().getTime()-s.getTime(),i=Math.floor(n/(1e3*60)),d=Math.floor(n/(1e3*60*60)),u=Math.floor(n/(1e3*60*60*24));return i<1?"just now":i<60?`${i}m ago`:d<24?`${d}h ago`:u<7?`${u}d ago`:s.toLocaleDateString()}const Ge="/assets/icon-DrADTbTP.ico",Je="http://localhost:8000";function Ke(){const t=localStorage.getItem("token");return t?{Authorization:`Bearer ${t}`}:{}}async function A(t,s,r,n){const i=s.startsWith("http")?s:`${Je.replace(/\/$/,"")}${s.startsWith("/")?"":"/"}${s}`,d={"Content-Type":"application/json",...n!=null&&n.noAuth?{}:Ke()};if(n!=null&&n.headers){const g=n.headers;if(g instanceof Headers)g.forEach((m,b)=>{d[b]=m});else if(Array.isArray(g))for(const[m,b]of g)d[m]=String(b);else Object.assign(d,g)}const{noAuth:u,...f}=n??{},o=await fetch(i,{method:t,headers:d,body:r?JSON.stringify(r):void 0,credentials:f.credentials??"include",...f});if(!o.ok){let g=await o.text().catch(()=>"");try{g=JSON.parse(g).detail||g}catch{}throw new Error(`${o.status} ${o.statusText}${g?`: ${g}`:""}`)}return(o.headers.get("content-type")||"").includes("application/json")?await o.json():await o.text()}const x={get:(t,s)=>A("GET",t,void 0,s),post:(t,s,r)=>A("POST",t,s,r),put:(t,s,r)=>A("PUT",t,s,r),patch:(t,s,r)=>A("PATCH",t,s,r),delete:(t,s)=>A("DELETE",t,void 0,s)};async function It(t,s){const r=new URLSearchParams;t&&r.append("start_date",t),s&&r.append("end_date",s);const n=r.toString();return x.get(`/api/core/dashboard/stats/${n?`?${n}`:""}`)}async function Mt(){return x.get("/api/core/dashboard/activity/")}async function Lt(){return x.get("/api/core/analytics/providers/")}async function Qe(t,s="all",r=10){const n=new URLSearchParams({q:t,type:s,limit:r.toString()});return x.get(`/api/core/search/?${n.toString()}`)}const $t={getBenefitCategories:()=>x.get("/api/schemes/benefit-categories/"),createBenefitCategory:t=>x.post("/api/schemes/benefit-categories/",t),updateBenefitCategory:(t,s)=>x.put(`/api/schemes/benefit-categories/${t}/`,s),deleteBenefitCategory:t=>x.delete(`/api/schemes/benefit-categories/${t}/`),getSubscriptionTiers:t=>{const s=new URLSearchParams;t!=null&&t.scheme&&s.append("scheme",t.scheme.toString()),t!=null&&t.tier_type&&s.append("tier_type",t.tier_type),(t==null?void 0:t.is_active)!==void 0&&s.append("is_active",t.is_active.toString());const r=s.toString();return x.get(`/api/schemes/subscription-tiers/${r?`?${r}`:""}`)},getAvailableTiers:t=>x.get(`/api/schemes/subscription-tiers/available/?scheme_id=${t}`),createSubscriptionTier:t=>x.post("/api/schemes/subscription-tiers/",t),updateSubscriptionTier:(t,s)=>x.put(`/api/schemes/subscription-tiers/${t}/`,s),deleteSubscriptionTier:t=>x.delete(`/api/schemes/subscription-tiers/${t}/`),getMemberSubscriptions:t=>{const s=new URLSearchParams;t!=null&&t.status&&s.append("status",t.status),t!=null&&t.subscription_type&&s.append("subscription_type",t.subscription_type),t!=null&&t.patient&&s.append("patient",t.patient.toString());const r=s.toString();return x.get(`/api/schemes/subscriptions/${r?`?${r}`:""}`)},getMemberSubscription:t=>x.get(`/api/schemes/subscriptions/${t}/`),createMemberSubscription:t=>x.post("/api/schemes/subscriptions/create_subscription/",t),updateMemberSubscription:(t,s)=>x.put(`/api/schemes/subscriptions/${t}/`,s),deleteMemberSubscription:t=>x.delete(`/api/schemes/subscriptions/${t}/`),upgradeSubscription:(t,s)=>x.post(`/api/schemes/subscriptions/${t}/upgrade/`,s),getSubscriptionUsage:t=>x.get(`/api/schemes/subscriptions/${t}/usage/`),getSubscriptionAnalytics:t=>x.get(`/api/schemes/subscriptions/analytics/${t?`?scheme_id=${t}`:""}`)};async function Ot(t,s){const r=await x.post("/api/auth/login/",{username:t,password:s},{noAuth:!0,credentials:"omit"});return localStorage.setItem("token",r.access),localStorage.setItem("refresh",r.refresh),r}function Xe(){localStorage.removeItem("token"),localStorage.removeItem("refresh")}async function Ye(){return x.get("/api/accounts/me/")}const ne=a.createContext(void 0);function Ze({children:t}){const[s,r]=a.useState(null),[n,i]=a.useState(!0);return a.useEffect(()=>{if(!localStorage.getItem("token")){i(!1);return}Ye().then(u=>r(u)).catch(()=>r(null)).finally(()=>i(!1))},[]),e.jsx(ne.Provider,{value:{user:s,loading:n,setUser:r},children:t})}function D(){const t=a.useContext(ne);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const U=[{to:"/",label:"Dashboard",icon:Te},{to:"/claims",label:"Claims",icon:De},{to:"/schemes",label:"Schemes",icon:Pe},{to:"/members",label:"Members",icon:Ce},{to:"/providers",label:"Providers",icon:Ie},{to:"/analytics",label:"Analytics",icon:Me},{to:"/reports",label:"Reports",icon:Le},{to:"/alerts",label:"Alerts",icon:se},{to:"/settings",label:"Settings",icon:$e},{to:"/admin",label:"Admin",icon:Oe}];function et(){const{user:t}=D(),s=(t==null?void 0:t.role)||"GUEST",r=new Set(s==="ADMIN"?U.map(n=>n.to):s==="PROVIDER"?["/","/claims","/providers","/alerts"]:s==="PATIENT"?["/","/claims"]:[]);return e.jsxs("aside",{className:"sticky top-0 hidden h-screen w-64 shrink-0 border-r border-border bg-card/50 shadow-sm md:block",children:[e.jsxs("div",{className:"flex h-14 items-center gap-2 px-3",children:[e.jsx("img",{src:Ge,alt:"Alo-Medical",style:{width:40}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold leading-5",children:"Alo‑Medical"}),e.jsx("div",{className:"text-xs text-muted-foreground leading-4",children:"Med‑Aid Admin"})]})]}),e.jsx("nav",{className:"mt-2 flex flex-col gap-1 px-2",children:U.filter(n=>r.has(n.to)).map(n=>e.jsxs(Ne,{to:n.to,className:({isActive:i})=>y("group flex items-center gap-3 rounded-md px-3 py-2 text-sm text-muted-foreground hover:bg-muted hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",i&&"bg-muted text-foreground"),children:[e.jsx(n.icon,{className:"h-4 w-4"}),e.jsx("span",{children:n.label})]},n.to))})]})}const tt=ze("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-accent text-accent-foreground hover:opacity-90",secondary:"bg-muted text-foreground hover:bg-muted/80",ghost:"hover:bg-muted/60",outline:"border border-border bg-transparent hover:bg-muted/60",destructive:"bg-destructive text-white hover:opacity-90"},size:{sm:"h-8 px-3",md:"h-9 px-4",lg:"h-10 px-5",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"md"}}),R=a.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...i},d)=>{const u=n?fe:"button";return e.jsx(u,{className:y(tt({variant:s,size:r}),t),ref:d,...i})});R.displayName="Button";const ae=a.forwardRef(({className:t,...s},r)=>e.jsx(G,{ref:r,className:y("relative flex h-8 w-8 shrink-0 overflow-hidden rounded-full",t),...s}));ae.displayName=G.displayName;const st=a.forwardRef(({className:t,...s},r)=>e.jsx(J,{ref:r,className:y("aspect-square h-full w-full",t),...s}));st.displayName=J.displayName;const oe=a.forwardRef(({className:t,...s},r)=>e.jsx(K,{ref:r,className:y("flex h-full w-full items-center justify-center rounded-full bg-muted text-xs font-medium",t),...s}));oe.displayName=K.displayName;const H=ge,q=pe,L=a.forwardRef(({className:t,sideOffset:s=8,...r},n)=>e.jsx(xe,{children:e.jsx(Q,{ref:n,sideOffset:s,className:y("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-card p-1 text-foreground shadow-md",t),...r})}));L.displayName=Q.displayName;const _=a.forwardRef(({className:t,...s},r)=>e.jsx(X,{ref:r,className:y("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-muted focus:bg-muted",t),...s}));_.displayName=X.displayName;const rt=a.forwardRef(({className:t,...s},r)=>e.jsx(Y,{ref:r,className:y("-mx-1 my-1 h-px bg-muted",t),...s}));rt.displayName=Y.displayName;const nt=ve,at=je,ot=ye,ie=a.forwardRef(({className:t,sideOffset:s=6,...r},n)=>e.jsx(be,{children:e.jsx(Z,{ref:n,sideOffset:s,className:y("z-50 overflow-hidden rounded-md bg-foreground px-2 py-1 text-xs text-background shadow-md",t),...r})}));ie.displayName=Z.displayName;function it(t,s){const[r,n]=a.useState(t);return a.useEffect(()=>{const i=setTimeout(()=>{n(t)},s);return()=>{clearTimeout(i)}},[t,s]),r}function ct({placeholder:t="Search schemes, claims, members, providers...",onResultClick:s,className:r="",compact:n=!1}){const[i,d]=a.useState(""),[u,f]=a.useState([]),[o,c]=a.useState(!1),[g,m]=a.useState(!1),[b,h]=a.useState(-1),[N,E]=a.useState("all"),P=a.useRef(null),C=a.useRef(null),ce=ee(),I=it(i,300);a.useEffect(()=>{I.length>=2?$(I,N):(f([]),m(!1))},[I,N]);const $=async(l,w)=>{c(!0);try{const j=await Qe(l,w,8);f(j.results),m(j.results.length>0),h(-1)}catch(j){console.error("Search error:",j),f([]),m(!1)}finally{c(!1)}},le=l=>{d(l.target.value)},de=l=>{E(l),i.length>=2&&$(i,l)},O=l=>{d(""),f([]),m(!1),h(-1),s?s(l):ce(l.url)},ue=l=>{var w;if(!(!g||u.length===0))switch(l.key){case"ArrowDown":l.preventDefault(),h(j=>j<u.length-1?j+1:0);break;case"ArrowUp":l.preventDefault(),h(j=>j>0?j-1:u.length-1);break;case"Enter":l.preventDefault(),b>=0&&b<u.length&&O(u[b]);break;case"Escape":m(!1),h(-1),(w=C.current)==null||w.blur();break}},me=()=>{var l;d(""),f([]),m(!1),h(-1),(l=C.current)==null||l.focus()};a.useEffect(()=>{const l=w=>{P.current&&!P.current.contains(w.target)&&(m(!1),h(-1))};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const z=l=>({all:"All",schemes:"Schemes",claims:"Claims",members:"Members",providers:"Providers",services:"Services",benefits:"Benefits"})[l]||l,he=l=>{switch(l){case"scheme":return"🏥";case"claim":return"📋";case"member":return"👤";case"provider":return"🏥";case"service_type":return"⚕️";case"benefit_type":return"💊";default:return"🔍"}};return e.jsxs("div",{ref:P,className:`relative w-full max-w-md ${r}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx("input",{ref:C,type:"text",value:i,onChange:le,onKeyDown:ue,onFocus:()=>u.length>0&&m(!0),placeholder:t,className:"w-full pl-10 pr-10 py-2 text-sm border border-input rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent"}),i&&e.jsx("button",{onClick:me,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:e.jsx(Be,{className:"w-4 h-4"})}),o&&e.jsx(Ve,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4 animate-spin"})]}),!n&&e.jsx("div",{className:"flex gap-1 mt-2 text-xs",children:["all","schemes","claims","members","providers","services"].map(l=>e.jsx("button",{onClick:()=>de(l),className:`px-2 py-1 rounded transition-colors ${N===l?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:z(l)},l))}),"      ",g&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-popover border border-border rounded-md shadow-lg z-50 max-h-96 overflow-y-auto",children:[u.map((l,w)=>e.jsx("button",{onClick:()=>O(l),className:`w-full px-4 py-3 text-left hover:bg-accent hover:text-accent-foreground transition-colors border-b border-border last:border-b-0 ${w===b?"bg-accent text-accent-foreground":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg flex-shrink-0 mt-0.5",children:he(l.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:l.title}),e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:l.subtitle}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-secondary text-secondary-foreground rounded",children:z(l.type)}),l.metadata.status&&e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${l.metadata.status==="APPROVED"?"bg-green-100 text-green-800":l.metadata.status==="PENDING"?"bg-yellow-100 text-yellow-800":l.metadata.status==="REJECTED"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:l.metadata.status})]})]})]})},`${l.type}-${l.id}`)),u.length===0&&!o&&i.length>=2&&e.jsxs("div",{className:"px-4 py-8 text-center text-muted-foreground",children:[e.jsx(B,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsxs("div",{className:"text-sm",children:['No results found for "',i,'"']}),e.jsx("div",{className:"text-xs mt-1",children:"Try adjusting your search or filter"})]})]})]})}function lt(){const[t,s]=a.useState(!1),r=ee(),{user:n}=D(),i=(n==null?void 0:n.role)==="ADMIN",[d,u]=a.useState([]),[f,o]=a.useState(!1);a.useEffect(()=>{const h=localStorage.getItem("theme"),N=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,E=h?h==="dark":N;s(E),document.documentElement.classList.toggle("dark",E)},[]),a.useEffect(()=>{!i||!f||x.get("/api/core/alerts/").then(h=>u(h.results??h??[])).catch(()=>u([]))},[i,f]);function c(){const h=!t;s(h),document.documentElement.classList.toggle("dark",h),localStorage.setItem("theme",h?"dark":"light")}function g(){Xe(),r("/login",{replace:!0})}const m=((n==null?void 0:n.username)||"").split(/[\s._-]+/).filter(Boolean).slice(0,2).map(h=>{var N;return(N=h[0])==null?void 0:N.toUpperCase()}).join("")||"U",b=(n==null?void 0:n.username)||"User";return e.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-border bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container flex items-center gap-3 px-4 mx-auto h-14 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 font-semibold rounded-md bg-accent text-accent-foreground",children:"A"}),e.jsx("span",{className:"text-sm font-semibold",children:"Alo‑Medical"})]}),e.jsx("div",{className:"items-center hidden gap-3 md:flex",children:e.jsx("div",{className:"text-sm font-semibold",children:"Med‑Aid Management Tool"})}),e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"flex-1 max-w-xl",children:e.jsx(ct,{placeholder:"Search schemes, claims, members, providers...",className:"w-full",compact:!0})}),e.jsxs("div",{className:"flex items-center justify-end flex-1 gap-2",children:[e.jsx(nt,{children:e.jsxs(at,{children:[e.jsx(ot,{asChild:!0,children:e.jsxs(R,{variant:"ghost",size:"icon","aria-label":"Toggle theme",onClick:c,"aria-pressed":t,children:[e.jsx(Ue,{className:"hidden w-5 h-5 dark:block"}),e.jsx(He,{className:"w-5 h-5 dark:hidden"})]})}),e.jsx(ie,{children:"Toggle theme"})]})}),i&&e.jsxs(H,{open:f,onOpenChange:o,children:[e.jsx(q,{asChild:!0,children:e.jsxs(R,{variant:"ghost",size:"icon","aria-label":"Notifications",className:"relative",children:[e.jsx(se,{className:"w-5 h-5"}),d.length>0&&e.jsx("span",{className:"absolute -right-0.5 -top-0.5 inline-flex h-4 min-w-4 items-center justify-center rounded-full bg-accent px-1 text-[10px] font-semibold text-accent-foreground",children:Math.min(9,d.length)})]})}),e.jsxs(L,{align:"end",className:"w-80",children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"Alerts"}),e.jsx("div",{className:"h-px my-1 bg-border"}),d.length===0?e.jsx("div",{className:"px-2 py-6 text-sm text-center text-muted-foreground",children:"No alerts"}):d.slice(0,6).map(h=>e.jsx(_,{className:"leading-5 whitespace-normal",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:`mt-1 h-2.5 w-2.5 rounded-full ${h.severity==="HIGH"?"bg-destructive":h.severity==="MEDIUM"?"bg-warning":"bg-info"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:h.message}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(h.created_at).toLocaleString()})]})]})},h.id)),e.jsx("div",{className:"h-px my-1 bg-border"}),e.jsx(_,{onClick:()=>r("/alerts"),children:"View all alerts"})]})]}),e.jsxs(H,{children:[e.jsx(q,{asChild:!0,children:e.jsxs(R,{variant:"ghost",className:"gap-2",children:[e.jsx(ae,{children:e.jsx(oe,{children:m})}),e.jsx("span",{className:"hidden text-sm md:inline",children:b}),e.jsx(qe,{className:"w-4 h-4"})]})}),e.jsxs(L,{align:"end",children:[e.jsx(_,{children:"Settings"}),e.jsx(_,{children:"Help"}),e.jsx(_,{className:"text-destructive",onClick:g,children:"Logout"})]})]})]})]})})}function dt({children:t}){return e.jsxs("div",{className:"min-h-screen w-full bg-background text-foreground",children:[e.jsx("div",{className:"grainy-overlay"}),e.jsxs("div",{className:"flex",children:[e.jsx(et,{}),e.jsxs("div",{className:"flex min-h-screen flex-1 flex-col",children:[e.jsx(lt,{}),e.jsx("main",{id:"main",className:y("container mx-auto w-full max-w-7xl px-4 pb-12 pt-6 md:pt-8"),children:t})]})]})]})}const ut="modulepreload",mt=function(t){return"/"+t},W={},v=function(s,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=mt(o),o in W)return;W[o]=!0;const c=o.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${g}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":ut,c||(m.as="script"),m.crossOrigin="",m.href=o,f&&m.setAttribute("nonce",f),document.head.appendChild(m),c)return new Promise((b,h)=>{m.addEventListener("load",b),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})}))}function d(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&d(f.reason);return s().catch(d)})};function ht(){const{user:t,loading:s}=D(),r=te();return s?null:t?e.jsx(Se,{}):e.jsx(T,{to:"/login",replace:!0,state:{from:r}})}const ft=a.lazy(()=>v(()=>import("./dashboard-DA_zJSJN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),xt=a.lazy(()=>v(()=>import("./claims-GcvCyUj1.js"),__vite__mapDeps([15,1,2,16,3,7,17,4,5,13,9]))),gt=a.lazy(()=>v(()=>import("./schemes-D8OAjtyz.js"),__vite__mapDeps([18,1,2,3,4,5,12,7,8,9]))),pt=a.lazy(()=>v(()=>import("./scheme-details-C1jzDGMg.js"),__vite__mapDeps([19,1,2,3,9,12,7,8,5]))),bt=a.lazy(()=>v(()=>import("./providers-ByG3_atK.js"),__vite__mapDeps([20,1,2,3,17,4,5,10,9,7,8,16]))),vt=a.lazy(()=>v(()=>import("./members-CHdnXsNY.js"),__vite__mapDeps([21,1,2,3,17,7,4,5,6,8,9,10]))),jt=a.lazy(()=>v(()=>import("./analytics-fCDbSld2.js"),__vite__mapDeps([22,1,2,3,10,9,5]))),yt=a.lazy(()=>v(()=>import("./reports-CiF68y9s.js"),__vite__mapDeps([23,1,2,3,7,4,5,10,9]))),wt=a.lazy(()=>v(()=>import("./alerts-DvaAmMVe.js"),__vite__mapDeps([24,1,2,3,4,5,10]))),Nt=a.lazy(()=>v(()=>import("./settings-nKcZjvKl.js"),__vite__mapDeps([25,1,2,3,7,8,10,5]))),St=a.lazy(()=>v(()=>import("./admin-oLZVLtHc.js"),__vite__mapDeps([26,1,2,3,4,5,10]))),_t=a.lazy(()=>v(()=>import("./login-Dm4jN6qa.js"),__vite__mapDeps([27,1,2,3,7,8,5]))),At=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});function S({allow:t,children:s}){const{user:r}=D();return r?t.includes(r.role)?e.jsx(e.Fragment,{children:s}):e.jsx(T,{to:"/",replace:!0}):e.jsx(T,{to:"/login",replace:!0})}function F(){return e.jsx(a.Suspense,{fallback:e.jsx(At,{}),children:e.jsxs(_e,{children:[e.jsxs(p,{element:e.jsx(ht,{}),children:[e.jsx(p,{path:"/",element:e.jsx(ft,{})}),e.jsx(p,{path:"/claims",element:e.jsx(xt,{})}),e.jsx(p,{path:"/schemes",element:e.jsx(S,{allow:["ADMIN"],children:e.jsx(gt,{})})}),e.jsx(p,{path:"/schemes/:id",element:e.jsx(S,{allow:["ADMIN"],children:e.jsx(pt,{})})}),e.jsx(p,{path:"/providers",element:e.jsx(S,{allow:["ADMIN","PROVIDER"],children:e.jsx(bt,{})})}),e.jsx(p,{path:"/members",element:e.jsx(S,{allow:["ADMIN"],children:e.jsx(vt,{})})}),e.jsx(p,{path:"/analytics",element:e.jsx(S,{allow:["ADMIN"],children:e.jsx(jt,{})})}),e.jsx(p,{path:"/reports",element:e.jsx(S,{allow:["ADMIN"],children:e.jsx(yt,{})})}),e.jsx(p,{path:"/alerts",element:e.jsx(wt,{})}),e.jsx(p,{path:"/settings",element:e.jsx(S,{allow:["ADMIN"],children:e.jsx(Nt,{})})}),e.jsx(p,{path:"/admin",element:e.jsx(S,{allow:["ADMIN"],children:e.jsx(St,{})})})]}),e.jsx(p,{path:"/login",element:e.jsx(_t,{})}),e.jsx(p,{path:"*",element:e.jsx(T,{to:"/",replace:!0})})]})})}function Et(){const s=te().pathname==="/login";return e.jsx(Ze,{children:s?e.jsx(F,{}):e.jsx(dt,{children:e.jsx(F,{})})})}const kt=async()=>{if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return t.addEventListener("updatefound",()=>{const s=t.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(console.log("New content is available and will be used when all tabs for this page are closed."),window.confirm("New version available! Reload to update?")&&window.location.reload())})}),console.log("Service Worker registered successfully:",t.scope),t}catch(t){console.error("Service Worker registration failed:",t)}else console.warn("Service Worker not supported in this browser")};M.createRoot(document.getElementById("root")).render(e.jsx(Ae.StrictMode,{children:e.jsx(Fe,{children:e.jsx(Ee,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Et,{})})})}));kt();export{Je as A,R as B,H as D,v as _,x as a,Mt as b,q as c,L as d,_ as e,rt as f,It as g,Lt as h,y as i,Ct as j,Pt as k,Ot as l,Ye as m,$t as s,D as u};
